apply plugin: 'org.stepik.gradle.plugins.pycharm'
apply plugin: 'org.stepik.gradle.plugins.idea'

intellij {
    version = project.getProperties().get('ideaVersion')
    sandboxDirectory = project.getProperties().get('ideaSandboxDir')
    idePath = project.getProperties().get('ideaPath')
    repository = 'file:///home/meanmail/repositories/${productName}/${productType}/${version}.zip'
}

pycharm {
    version = project.getProperties().get('pyCharmVersion')
    sandboxDirectory = project.getProperties().get('pyCharmSandboxDir')
    idePath = project.getProperties().get('pyCharmPath')
    repository = 'file:///home/meanmail/repositories/${productName}/${productType}/${version}.zip'
}

dependencies {
    compile project(":core")
}

jar {
    into('/') {
        from "${project(":core").getBuildDir()}/classes/main"
    }
    into('/') {
        from "${project(":core").getBuildDir()}/resources/main"
    }
}

group 'org.stepik'
version project.getProperties().get('pluginVersion')?:'SNAPSHOT'

defaultTasks "runIdea"
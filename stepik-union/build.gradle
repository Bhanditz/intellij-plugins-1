apply plugin: 'org.stepik.gradle.plugins.pycharm'
apply plugin: 'org.stepik.gradle.plugins.idea'

intellij {
    version = project.getProperties().get('ideaVersion')?: version
    pluginName = project.getProperties().get('pluginName')?:'stepik-union'
    sandboxDirectory = project.getProperties().get('ideaSandboxDir')?: sandboxDirectory
    idePath = project.getProperties().get('ideaPath')
}

pycharm {
    version = project.getProperties().get('pyCharmVersion')?: version
    pluginName = project.getProperties().get('pluginName')?:'stepik-union'
    sandboxDirectory = project.getProperties().get('pyCharmSandboxDir')?: sandboxDirectory
    idePath = project.getProperties().get('pyCharmPath')
}

dependencies {
    compile project(":core")
}

jar {
    into('/') {
        from "${project(":core").getBuildDir()}/classes/main"
    }
    into('/') {
        from "${project(":core").getBuildDir()}/resources/main"
    }
}

group 'org.stepik'
version project.getProperties().get('pluginVersion')?:'SNAPSHOT'

defaultTasks "runIdea"
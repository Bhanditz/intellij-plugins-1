apply plugin: 'org.stepik.gradle.plugins.pycharm'
apply plugin: 'org.stepik.gradle.plugins.idea'
apply plugin: 'org.stepik.gradle.plugins.clion'

intellij {
    version = project.getProperties().get('ideaVersion')
    sandboxDirectory = project.getProperties().get('ideaSandboxDir')
    idePath = project.getProperties().get('ideaPath')
}

pycharm {
    version = project.getProperties().get('pyCharmVersion')
    sandboxDirectory = project.getProperties().get('pyCharmSandboxDir')
    idePath = project.getProperties().get('pyCharmPath')
}

clion {
    version = project.getProperties().get('cLionVersion')
    sandboxDirectory = project.getProperties().get('cLionSandboxDir')
    idePath = project.getProperties().get('cLionPath')
}

dependencies {
    compile project(":stepik-java-api")
    compile project(":core")
}

jar {
    into('/') {
        from "${project(":core").getBuildDir()}/classes/main"
    }
    into('/') {
        from "${project(":core").getBuildDir()}/resources/main"
    }
    into('/') {
        from "${project(":stepik-java-api").getBuildDir()}/classes/main"
    }
    into('/') {
        from "${project(":stepik-java-api").getBuildDir()}/resources/main"
    }
}

group 'org.stepik'
version project.getProperties().get('pluginVersion')?:'SNAPSHOT'

defaultTasks "runIdea"
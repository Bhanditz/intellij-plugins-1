<idea-plugin>
  <id>org.stepik.alt</id>
  <name>Stepik ALT</name>
  <version>SNAPSHOT</version>
  <idea-version since-build="163.7743.44" />
  <vendor email="alt@stepik.org" url="https://alt.stepik.org">Stepik</vendor>

  <depends>com.intellij.modules.lang</depends>
  <depends optional="true">org.jetbrains.kotlin</depends>
  <depends optional="true" config-file="idea.xml">com.intellij.modules.java</depends>
  <depends optional="true" config-file="pycharm.xml">com.intellij.modules.python</depends>

  <extensions defaultExtensionNs="com.intellij">
    <applicationConfigurable instance="org.stepik.core.ui.StepikSettingsConfigurable" />
    <moduleType id="STEPIK_MODULE_TYPE" implementationClass="org.stepik.alt.projectWizard.idea.StepikModuleType" />
    <httpRequestHandler implementation="org.stepik.core.auth.StepikRestService" />
  </extensions>

  <extensions defaultExtensionNs="org.stepik.alt">
    <studyPluginConfigurator implementation="org.stepik.alt.AltProjectConfigurator" />
  </extensions>

  <actions>
    <group id="StepikMenu" popup="true" text="Stepik">
      <action id="STEPIK.StepikSendAction" class="org.stepik.core.actions.step.StepikSendAction" />
      <action id="STEPIK.TestSamplesAction" class="org.stepik.core.actions.step.TestSamplesAction" />
      <action id="Alt.LoadProblemAction" class="org.stepik.alt.actions.navigation.LoadProblemAction" />
      <action id="STEPIK.DownloadSubmission" class="org.stepik.core.actions.step.DownloadSubmission" />
      <action id="STEPIK.RefreshStepAction" class="org.stepik.core.actions.step.StepikResetStepAction" />
      <action id="Alt.OpenInBrowser" class="org.stepik.alt.actions.step.OpenInBrowserAction" />
      <separator />
      <action id="STEPIK.LoginAction" class="org.stepik.core.actions.LoginAction" />
      <action id="STEPIK.LogoutAction" class="org.stepik.core.actions.LogoutAction" />
      <separator />
      <action id="Alt.AboutAltAction" class="org.stepik.alt.actions.AboutAction" />

      <add-to-group group-id="MainMenu" anchor="last" />
    </group>

    <action id="Alt.StartAltAction" class="org.stepik.alt.actions.StartAltAction">
      <add-to-group group-id="WelcomeScreen.QuickStart" anchor="first" />
      <add-to-group group-id="StepikMenu" anchor="first" />
    </action>
  </actions>

  <application-components>
    <component>
      <implementation-class>org.stepik.alt.AltPluginSettings</implementation-class>
      <interface-class>org.stepik.core.PluginSettings</interface-class>
    </component>
  </application-components>

  <project-components>
    <component>
      <implementation-class>org.stepik.core.StudyProjectComponent</implementation-class>
    </component>
  </project-components>

  <extensionPoints>
    <extensionPoint qualifiedName="org.stepik.alt.studyPluginConfigurator"
                    interface="org.stepik.core.StudyPluginConfigurator" />
  </extensionPoints>

  <extensions defaultExtensionNs="com.intellij">
    <projectService serviceInterface="com.intellij.codeInsight.documentation.DocumentationManager"
                    serviceImplementation="org.stepik.core.StudyDocumentationManager" overrides="true" />
    <toolWindow id="Step Description" anchor="right" factoryClass="org.stepik.core.ui.StudyToolWindowFactory"
                conditionClass="org.stepik.core.ui.StudyCondition" />
    <toolWindow id="Stepik Test" anchor="bottom"
                factoryClass="org.stepik.core.testFramework.toolWindow.StepikTestToolWindowFactory"
                conditionClass="org.stepik.core.testFramework.toolWindow.StudyCondition" />
    <projectService serviceInterface="org.stepik.core.ProjectManager"
                    serviceImplementation="org.stepik.alt.AltProjectManager" />
  </extensions>
</idea-plugin>
